<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pac-Man Mini</title>
<style>
  body { margin:0; padding:0; display:flex; justify-content:center; align-items:center; height:100vh; background:black; }
  #game { position:relative; width:400px; height:400px; background:#000; display:grid; grid-template-columns:repeat(20,20px); grid-template-rows:repeat(20,20px); }
  .wall { background:#0000FF; }
  .dot { width:6px; height:6px; background:#FFFF00; border-radius:50%; margin:auto; }
  #pacman { position:absolute; width:18px; height:18px; background:yellow; border-radius:50%; z-index:10; transition:0.1s linear; }
</style>
</head>
<body>
<div id="game"></div>
<div id="pacman"></div>

<script>
  const game = document.getElementById('game');
  const pacman = document.getElementById('pacman');
  const size = 20; // taille cellule
  const grid = [];

  // labyrinthe simple (0 = vide, 1 = mur, 2 = point)
  const maze = [
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    [1,2,2,2,1,2,2,2,2,2,2,2,2,1,2,2,2,2,2,1],
    [1,2,1,2,1,2,1,1,1,2,1,1,1,2,1,2,1,2,2,1],
    [1,2,1,2,2,2,2,2,1,2,1,2,2,2,1,2,1,2,2,1],
    [1,2,1,1,1,1,1,2,1,2,1,2,1,1,1,1,1,2,2,1],
    [1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,1],
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    // reste vide pour simplifier
  ];

  const rows = maze.length;
  const cols = maze[0].length;

  // créer le labyrinthe
  for(let r=0;r<rows;r++){
    for(let c=0;c<cols;c++){
      const cell = document.createElement('div');
      if(maze[r][c]===1) cell.className='wall';
      else if(maze[r][c]===2){
        const dot = document.createElement('div');
        dot.className='dot';
        cell.appendChild(dot);
      }
      game.appendChild(cell);
      grid.push({row:r,col:c,type:maze[r][c],el:cell});
    }
  }

  // position pacman
  let pac = {row:1, col:1};
  pacman.style.left = pac.col*size+'px';
  pacman.style.top = pac.row*size+'px';

  // contrôles
  document.addEventListener('keydown', e=>{
    let newRow = pac.row;
    let newCol = pac.col;
    if(e.key==='ArrowUp') newRow--;
    if(e.key==='ArrowDown') newRow++;
    if(e.key==='ArrowLeft') newCol--;
    if(e.key==='ArrowRight') newCol++;
    // vérifier mur
    if(newRow>=0 && newRow<rows && newCol>=0 && newCol<cols && maze[newRow][newCol]!==1){
      pac.row=newRow; pac.col=newCol;
      pacman.style.left = pac.col*size+'px';
      pacman.style.top = pac.row*size+'px';
      // manger un point
      const idx = newRow*cols+newCol;
      if(grid[idx].type===2){
        grid[idx].type=0;
        grid[idx].el.innerHTML=''; // enlever dot
      }
    }
  });
</script>
</body>
</html>
